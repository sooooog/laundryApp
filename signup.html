<!doctype html>
<html>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
          integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
          crossorigin="anonymous">

    <title>SIGNUP PAGE</title>
  </head>

  <!-- 비밀번호 조건(비밀번호 길이, 특수문자 삽입 등) 및 일치여부 확인 -->
  <script>
    function check_pw(){

        var pw = document.getElementById('pw1').value;
        var SC = ["!","@","#","$","%"]; //비밀번호 입력 조건에 들어가는 특수문자를 배열 형태로 정의
        var check_SC = 0; //특수문자 체크 변수로 특수문자 발견 시 1, 발견되지 않을 시 0이 입력

        if(pw.length < 6 || pw.length > 16){
          //document.getElementById('check').innerHTML='비밀번호는 6글자 이상, 16글자 이하로 입력해주세요.'
          //document.getElementById('check').style.color='red';
          //document.getElementById('pw1').value='';  //입력한 pw 초기화
        }

        /*for(var i=0; i<SC.length; i++){   //SC 배열의 모든 값을 pw와 비교
          if(pw.indexOf(SC[i]) != -1){
            check_SC = 1;   //SC에 들어있는 문자열이 존재하면 check_SC를 1로 만듦
          }
        }
        if(check_SC == 0){
          document.getElementById('pw1').value=''; //입력한 pw 초기화
          //document.getElementById('check').innerHTML='비밀번호는 !,@,#,$,% 의 특수문자를 포함하여 입력해주세요.'
          //document.getElementById('check').style.color='red';
        }*/

        //입력한 pw가 초기화되지 않았다면 조건을 만족한 것으로 일치여부 확인으로 넘어감
        if(document.getElementById('pw1').value !='' && document.getElementById('pw2').value!=''){
            if(document.getElementById('pw1').value==document.getElementById('pw2').value){ //pw1와 pw2가 일치한다면
              document.getElementById('check').innerHTML='비밀번호가 일치합니다.'
              document.getElementById('check').style.color='blue';
            }
            else{   //pw1와 pw2가 일치하지 않다면
              document.getElementById('check').innerHTML='비밀번호가 일치하지 않습니다.';
              document.getElementById('check').style.color='red';
            }
        }
    }
</script>

  <body>
    <!-- 상단메뉴(Navbar) -->
    <%- include('nav.html') %>

    <h4 class="ml-2 my-3"><strong>회원가입 페이지</strong></h4>

    <!-- 입력폼(form) -->
    <form action="/signup" method="POST">
        <div class="form-group">
            <label>이름</label>
            <input type="text" class="form-control" name = username placeholder="Name">
        </div>
        <div class="form-group">
          <label>아이디</label>
          <input type="text" class="form-control" name = userid placeholder="ID">
        </div>
        <div class="form-group">
          <label>비밀번호</label>
          <input type="password" class="form-control" name = userpw1 id = pw1 placeholder="Password(6~12자리의 특수문자 포함)"
                 onkeyup="check_pw()"> <!--minlength="6" maxlength="12"-->
        </div>
        <div class="form-group">
          <label>비밀번호 확인</label>
          <input type="password" class="form-control" name = userpw2 id = pw2 placeholder="Password Check"
                 onkeyup="check_pw()"><span id="check"></span>
        </div>
        <div class="form-group">
            <label>전화번호</label>
            <input type="text" class="form-control" name = userphone placeholder="Phone Number((-) 제외)">
        </div>
        <button type="submit" class="btn btn-primary">회원가입</button>
    </form>


    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
    -->
  </body>
</html>